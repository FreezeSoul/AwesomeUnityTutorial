# 02-3-NPC设计文档

## 1. NPC概述

### 1.1 NPC分类
根据游戏功能和宋朝历史背景，将NPC分为以下几类：

#### 1.1.1 功能性NPC
- **商人**：售卖物品和装备
- **铁匠**：打造和修理装备
- **医师**：治疗和恢复
- **任务发布者**：发布主线和支线任务

#### 1.1.2 剧情NPC
- **历史人物**：宋朝历史名人
- **关键角色**：推动剧情发展的重要人物
- **村民**：提供背景信息和氛围
- **守护者**：守护重要地点和物品

#### 1.1.3 特殊NPC
- **神话角色**：中国神话传说中的角色
- **导师**：提供技能指导和训练
- **伙伴**：可以协助主角战斗的角色
- **反派**：与主角对立的重要角色

### 1.2 设计原则
- **辨识度**：每个NPC都有独特的外观特征
- **功能性**：外观体现其功能定位
- **文化性**：符合宋朝历史背景
- **互动性**：设计考虑与玩家的互动需求

## 2. 功能性NPC设计

### 2.1 商人类

#### 2.1.1 杂货商
- **外观**：中年商人，富态体型，锦衣华服
- **特征**：精明的表情，计算器的动作
- **服装**：宋朝商人服装，钱袋装饰
- **色彩**：金色，棕色，深红色

#### 2.1.2 武器商
- **外观**：强壮的武器商人，肌肉发达
- **特征**：展示武器的姿态，自信的表情
- **服装**：皮甲服装，武器装饰
- **色彩**：棕色，黑色，金属色

#### 2.1.3 珍宝商
- **外观**：优雅的珍宝商，精致的外观
- **特征**：优雅的姿态，神秘的微笑
- **服装**：华丽的服装，珠宝装饰
- **色彩**：紫色，金色，白色

### 2.2 铁匠类

#### 2.2.1 武器铁匠
- **外观**：强壮的铁匠，肌肉发达
- **特征**：锤子的动作，专注的表情
- **服装**：皮围裙，护腕
- **色彩**：棕色，黑色，红色

#### 2.2.2 防具铁匠
- **外观**：经验丰富的防具铁匠
- **特征**：敲打的动作，专业的表情
- **服装**：工作服，工具袋
- **色彩**：灰色，黑色，蓝色

#### 2.2.3 特殊铁匠
- **外观**：神秘的特殊铁匠，古老的外观
- **特征**：魔法锻造的动作，神秘的表情
- **服装**：古老的服装，神秘符文
- **色彩**：深蓝色，紫色，金色

### 2.3 医师类

#### 2.3.1 普通医师
- **外观**：温和的医师，儒雅的气质
- **特征**：诊脉的动作，关切的表情
- **服装**：医师服装，药箱
- **色彩**：白色，绿色，棕色

#### 2.3.2 草药师
- **外观**：自然风格的草药师
- **特征**：采集草药的动作，温和的表情
- **服装**：自然材料服装，草药袋
- **色彩**：绿色，棕色，白色

#### 2.3.3 神医
- **外观**：神秘的神医，超凡的气质
- **特征**：施法的动作，智慧的表情
- **服装**：神秘的服装，法器
- **色彩**：白色，蓝色，金色

## 3. 剧情NPC设计

### 3.1 历史人物

#### 3.1.1 包拯
- **外观**：严肃的包拯，威严的气质
- **特征**：思考的姿态，威严的表情
- **服装**：宋朝官员服装，官帽
- **色彩**：黑色，白色，红色

#### 3.1.2 岳飞
- **外观**：英勇的岳飞，将军的气质
- **特征**：指挥的姿态，坚毅的表情
- **服装**：将军服装，武器
- **色彩**：红色，黑色，金色

#### 3.1.3 李清照
- **外观**：优雅的李清照，文人的气质
- **特征**：书写姿态，优雅的表情
- **服装**：文人服装，书卷
- **色彩**：蓝色，白色，粉色

### 3.2 村民类

#### 3.2.1 农民
- **外观**：朴实的农民，健壮的体型
- **特征**：劳作的动作，朴实的表情
- **服装**：粗布衣服，农具
- **色彩**：棕色，绿色，白色

#### 3.2.2 渔民
- **外观**：经验丰富的渔民，晒黑的皮肤
- **特征**：撒网的动作，专注的表情
- **服装**：渔民服装，渔网
- **色彩**：蓝色，棕色，白色

#### 3.2.3 学徒
- **外观**：年轻的学徒，好学的气质
- **特征**：学习的动作，好奇的表情
- **服装**：学生服装，书籍
- **色彩**：蓝色，白色，黑色

### 3.3 守护者类

#### 3.3.1 城门守卫
- **外观**：威武的守卫，挺拔的姿态
- **特征**：警戒的姿态，严肃的表情
- **服装**：守卫服装，武器
- **色彩**：红色，黑色，金属色

#### 3.3.2 宝库守卫
- **外观**：精英守卫，精良的装备
- **特征**：守护的姿态，警惕的表情
- **服装**：精良守卫服装，重型武器
- **色彩**：金色，黑色，红色

#### 3.3.3 神殿守卫
- **外观**：神秘的守卫，神圣的气质
- **特征**：祈祷的姿态，神圣的表情
- **服装**：神圣服装，法器
- **色彩**：白色，金色，蓝色

## 4. 特殊NPC设计

### 4.1 神话角色

#### 4.1.1 土地公
- **外观**：慈祥的土地公，老人形象
- **特征**：祝福的动作，慈祥的表情
- **服装**：神仙服装，法器
- **色彩**：金色，红色，白色

#### 4.1.2 城隍爷
- **外观**：威严的城隍爷，官员形象
- **特征**：审判的姿态，威严的表情
- **服装**：神仙官员服装，法器
- **色彩**：黑色，金色，红色

#### 4.1.3 观音菩萨
- **外观**：慈悲的观音菩萨，神圣形象
- **特征**：祝福的动作，慈悲的表情
- **服装**：神仙服装，莲花
- **色彩**：白色，金色，蓝色

### 4.2 导师类

#### 4.2.1 武术导师
- **外观**：强大的武术导师，大师风范
- **特征**：教学姿态，威严的表情
- **服装**：武术服装，武器
- **色彩**：白色，黑色，红色

#### 4.2.2 法术导师
- **外观**：神秘的法术导师，智者形象
- **特征**：施法姿态，智慧的表情
- **服装**：法师服装，法器
- **色彩**：蓝色，紫色，金色

#### 4.2.3 工艺导师
- **外观**：熟练的工艺导师，匠人形象
- **特征**：制作姿态，专注的表情
- **服装**：工匠服装，工具
- **色彩**：棕色，黑色，绿色

### 4.3 伙伴类

#### 4.3.1 武士伙伴
- **外观**：忠诚的武士伙伴，年轻战士
- **特征**：战斗姿态，忠诚的表情
- **服装**：武士服装，武器
- **色彩**：蓝色，白色，黑色

#### 4.3.2 法师伙伴
- **外观**：聪明的法师伙伴，年轻法师
- **特征**：施法姿态，聪明的表情
- **服装**：法师服装，法器
- **色彩**：蓝色，白色，紫色

#### 4.3.3 刺客伙伴
- **外观**：敏捷的刺客伙伴，神秘形象
- **特征**：潜行姿态，警惕的表情
- **服装**：刺客服装，暗器
- **色彩**：黑色，灰色，红色

## 5. 技术规格

### 5.1 基础规格
- **普通NPC**：32x32像素
- **重要NPC**：48x48像素
- **特殊NPC**：64x64像素
- **色彩数量**：不超过32种颜色

### 5.2 动画规格
- **待机动画**：4-6帧循环
- **对话动画**：2-4帧循环
- **动作动画**：6-8帧
- **特殊动画**：根据需要定制

### 5.3 表情规格
- **基础表情**：正常、微笑、惊讶、思考
- **特殊表情**：愤怒、悲伤、兴奋、恐惧
- **对话表情**：说话时的口型变化

## 6. AI图像生成提示词

### 6.1 功能性NPC提示词模板
```
[NPC类型]，宋朝[职业]服装，[特征描述]，[表情状态]，[功能道具]，32x32像素，Metal Slug风格，2D像素艺术，宋朝历史背景，功能性NPC，细节丰富
```

### 6.2 剧情NPC提示词模板
```
[历史人物/角色类型]，[历史时期]服装，[身份特征]，[性格表情]，[标志性物品]，48x48像素，Metal Slug风格，2D像素艺术，宋朝历史，重要角色，精细细节
```

### 6.3 特殊NPC提示词模板
```
[神话角色/特殊类型]，神话服装，[神圣/神秘特征]，[特殊能力]，[法器/道具]，64x64像素，Metal Slug风格，2D像素艺术，中国神话，超自然能力，震撼效果
```

### 6.4 伙伴NPC提示词模板
```
[伙伴类型]，伙伴服装，[性格特征]，[战斗姿态]，[武器/装备]，32x32像素，Metal Slug风格，2D像素艺术，战斗伙伴，忠诚可靠，动态效果
```

## 7. 交互设计

### 7.1 对话系统
- **对话界面**：独特的对话气泡
- **对话选项**：影响剧情走向的选择
- **对话表情**：根据对话内容变化的表情
- **对话动作**：配合对话的动作变化

### 7.2 服务系统
- **商店界面**：独特的商店设计
- **服务界面**：各种服务的界面设计
- **价格系统**：合理的价格体系
- **物品展示**：物品的视觉展示

### 7.3 任务系统
- **任务发布**：任务发布的视觉表现
- **任务进度**：任务进度的视觉反馈
- **任务完成**：任务完成的庆祝效果
- **任务奖励**：奖励物品的展示

## 8. 动画设计

### 8.1 基础动画
- **待机动画**：体现NPC特征的循环动作
- **行走动画**：符合NPC身份的移动方式
- **对话动画**：说话时的口型和表情变化
- **工作动画**：体现职业特征的工作动作

### 8.2 特殊动画
- **庆祝动画**：完成任务后的庆祝动作
- **悲伤动画**：剧情需要的悲伤表现
- **愤怒动画**：表达愤怒的动作
- **思考动画**：思考问题的表现动作

### 8.3 互动动画
- **给予动画**：给予物品的动作
- **接受动画**：接受物品的动作
- **指导动画**：指导教学的动作
- **告别动画**：分别时的动作

## 9. 质量控制标准

### 9.1 视觉质量
- **风格统一**：保持Metal Slug风格的一致性
- **细节丰富**：在有限像素内展现丰富细节
- **色彩和谐**：色彩搭配和谐统一
- **特征明显**：每个NPC都有独特的视觉特征

### 9.2 功能质量
- **交互流畅**：与NPC的交互流畅自然
- **信息清晰**：NPC提供的信息清晰易懂
- **服务完善**：各种服务功能完善
- **剧情合理**：NPC在剧情中的作用合理

### 9.3 文化质量
- **历史准确**：历史人物的刻画准确
- **文化尊重**：对传统文化的尊重表达
- **教育意义**：具有一定的文化传播价值
- **娱乐性**：保持游戏的娱乐性

## 10. 制作流程

### 10.1 设计阶段
1. 确定NPC的功能和剧情作用
2. 设计NPC的外观特征和服装
3. 制定对话和交互内容
4. 完善技术规格和动画要求

### 10.2 制作阶段
1. 使用AI工具生成基础图像
2. 手工调整像素细节
3. 制作各方向的动画帧
4. 添加特效和光影效果

### 10.3 测试阶段
1. 功能测试
2. 对话测试
3. 交互测试
4. 剧情测试